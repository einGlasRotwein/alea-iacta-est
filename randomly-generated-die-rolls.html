<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>5 randomly generated die rolls | enchanted die</title>
  <meta name="description" content="5 randomly generated die rolls | enchanted die">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="5 randomly generated die rolls | enchanted die" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 randomly generated die rolls | enchanted die" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="data-analysis.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="prologue.html"><a href="prologue.html"><i class="fa fa-check"></i><b>1</b> prologue</a></li>
<li class="chapter" data-level="2" data-path="what-this-is-about.html"><a href="what-this-is-about.html"><i class="fa fa-check"></i><b>2</b> what this is about</a><ul>
<li class="chapter" data-level="2.1" data-path="what-this-is-about.html"><a href="what-this-is-about.html#die-roll-and-enchantment-procedure"><i class="fa fa-check"></i><b>2.1</b> die roll and enchantment procedure</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-preparation.html"><a href="data-preparation.html"><i class="fa fa-check"></i><b>3</b> data preparation</a><ul>
<li class="chapter" data-level="3.1" data-path="data-preparation.html"><a href="data-preparation.html#libraries"><i class="fa fa-check"></i><b>3.1</b> libraries</a></li>
<li class="chapter" data-level="3.2" data-path="data-preparation.html"><a href="data-preparation.html#read-data"><i class="fa fa-check"></i><b>3.2</b> read data</a></li>
<li class="chapter" data-level="3.3" data-path="data-preparation.html"><a href="data-preparation.html#difference-to-previous-roll"><i class="fa fa-check"></i><b>3.3</b> difference to previous roll</a><ul>
<li class="chapter" data-level="3.3.1" data-path="data-preparation.html"><a href="data-preparation.html#using-a-for-loop"><i class="fa fa-check"></i><b>3.3.1</b> using a for loop</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-preparation.html"><a href="data-preparation.html#using-lag"><i class="fa fa-check"></i><b>3.3.2</b> using lag</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-analysis.html"><a href="data-analysis.html"><i class="fa fa-check"></i><b>4</b> data analysis</a><ul>
<li class="chapter" data-level="4.1" data-path="data-analysis.html"><a href="data-analysis.html#die-improvement-as-a-function-of-magic"><i class="fa fa-check"></i><b>4.1</b> die improvement as a function of magic</a><ul>
<li class="chapter" data-level="4.1.1" data-path="data-analysis.html"><a href="data-analysis.html#prepare-a-dataframe-for-a-plot"><i class="fa fa-check"></i><b>4.1.1</b> prepare a dataframe for a plot</a></li>
<li class="chapter" data-level="4.1.2" data-path="data-analysis.html"><a href="data-analysis.html#plot-it"><i class="fa fa-check"></i><b>4.1.2</b> plot it</a></li>
<li class="chapter" data-level="4.1.3" data-path="data-analysis.html"><a href="data-analysis.html#is-there-a-tidy-way"><i class="fa fa-check"></i><b>4.1.3</b> is there a tidy way?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="randomly-generated-die-rolls.html"><a href="randomly-generated-die-rolls.html"><i class="fa fa-check"></i><b>5</b> randomly generated die rolls</a><ul>
<li class="chapter" data-level="5.1" data-path="randomly-generated-die-rolls.html"><a href="randomly-generated-die-rolls.html#function-for-enchanted-die-rolls"><i class="fa fa-check"></i><b>5.1</b> function for enchanted die rolls</a></li>
<li class="chapter" data-level="5.2" data-path="randomly-generated-die-rolls.html"><a href="randomly-generated-die-rolls.html#examples"><i class="fa fa-check"></i><b>5.2</b> Examples</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">enchanted die</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="randomly-generated-die-rolls" class="section level1">
<h1><span class="header-section-number">5</span> randomly generated die rolls</h1>
<p>Everything I just showed you might still just have happened because I used real die rolls. After all, the die <strong>could</strong> have been rigged. Or I <strong>could</strong> possess some magical talents. I can show you, however, that all of the above still holds when we use a completely random data set.<br />
We generate some random die rolls and just assume that enchantment took place after specific numers (e.g. 1 and 2, like in our real world example). That means, we include a hypothetical <code>magic_before</code> column like in the real world example, even though no magic has ever occured. Yet, we still find an effect of magic if we assume the same rules as we did in the real world example.<br />
That is, when we enchant the die after rolling low numbers, we will get an “improvement” via magic. If we enchant it after rolling high numbers, we will see the die getting “worse” - much like in a curse. You can toy around with the effect by using this function I created. It will generate a set of random die rolls with enchantment.<br />
Most importantly, it is a really flexible function: You can <strong>specify which numbers can possibly be rolled</strong>, so our example does not have to be limited to a six-sided die. You can very well simulate a coin flip by e.g. providing 1 and 2 as possible outcomes.<br />
And of course, you can also <strong>specify which numbers you want to enchant</strong>. The only limitation is that these numbers are included in the set of possible outcomes, obviously. Enchanting after a 3 or a 2 have been rolled will work for an ordinary six-sided die, but not for a coin flip (except when you have labelled the coin outcomes with 3 and 4). Accordingly, trying to enchant after a 42 for a die with numbers from 1 - 12 will give you an error message.<br />
Try it out - you will receive an enchanting message when generating a dataset has been successful!</p>
<p>Here is the quick, uncommented code for the function - I will explain it step by step below if you want to know more.</p>
<div id="function-for-enchanted-die-rolls" class="section level2">
<h2><span class="header-section-number">5.1</span> function for enchanted die rolls</h2>
<p>result: <code>data.frame</code> with two columns - output silent in order to prevent huge <code>data.frame</code> from being printed to the console</p>
<table>
<caption>Description of the outcome of the <code>enchant.die</code> function.</caption>
<colgroup>
<col width="10%" />
<col width="89%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">column</th>
<th align="left">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>rolls</code></td>
<td align="left">die roll outcomes randomly sampled from numbers specified in <code>die_outcomes</code></td>
</tr>
<tr class="even">
<td align="left"><code>magic_before</code></td>
<td align="left">has the die been enchanted in the previous roll? die is enchanted after rolling the number(s) specified in <code>magic_numbers</code></td>
</tr>
</tbody>
</table>
<table>
<caption>Arguments of the <code>enchant.die</code> function.</caption>
<colgroup>
<col width="6%" />
<col width="93%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">argument</th>
<th align="left">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>nrolls</code></td>
<td align="left">number of rolls</td>
</tr>
<tr class="even">
<td align="left"><code>magic_numbers</code></td>
<td align="left">specify die outcomes after which you want to enchant your die; can be either a single number or a vector of several ones; default = c(1, 2) as in the real world example</td>
</tr>
<tr class="odd">
<td align="left"><code>die_outcomes</code></td>
<td align="left">specify (a vector of) numbers from which die outcomes are sampled; uniform when each outcome is included only once - to weigh outcomes differently, include the same outcome multiple times; default: classical die (1:6)</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">enchant.die &lt;-<span class="st"> </span><span class="cf">function</span>(nrolls, <span class="dt">magic_numbers =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="dt">die_outcomes =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">6</span>) {
  error &lt;-<span class="st"> </span><span class="ot">FALSE</span>
  
  <span class="cf">if</span> (<span class="kw">sum</span>(<span class="op">!</span>magic_numbers <span class="op">%in%</span><span class="st"> </span>die_outcomes) <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) {
    <span class="kw">print</span>(<span class="st">&quot;Woah there! You want to enchant at least one die outcome that your die cannot possibly roll! Per default, the die rolls 1:6. Specify any other outcomes via the argument die_outcomes.&quot;</span>)
    error &lt;-<span class="st"> </span><span class="ot">TRUE</span>
  }
  
  dd &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">rolls =</span> <span class="kw">sample</span>(die_outcomes, nrolls, <span class="dt">replace =</span> <span class="ot">TRUE</span>), 
                   <span class="dt">magic_before =</span> <span class="kw">rep</span>(<span class="dv">2</span>, nrolls))
  
  dd<span class="op">$</span>magic_before[<span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
  
  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>(nrolls <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)) {
    <span class="kw">ifelse</span>(dd<span class="op">$</span>rolls[i] <span class="op">%in%</span><span class="st"> </span>magic_numbers <span class="op">==</span><span class="st"> </span><span class="ot">TRUE</span>, 
           dd<span class="op">$</span>magic_before[i <span class="op">+</span><span class="st"> </span><span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">1</span>, dd<span class="op">$</span>magic_before[i <span class="op">+</span><span class="st"> </span><span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">0</span>)
  }
  
  magic_message &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Mischief managed.&quot;</span>, <span class="st">&quot;Magical!&quot;</span>, <span class="st">&quot;Alea iacta est.&quot;</span>, <span class="st">&quot;You&#39;re a wizard!&quot;</span>,
                     <span class="st">&quot;Magic is in the air.&quot;</span>, <span class="st">&quot;Did you just feel that?&quot;</span>, <span class="st">&quot;Enchanting!&quot;</span>,
                     <span class="st">&quot;Thank you for choosing Enchanted Dies!&quot;</span>, <span class="st">&quot;I&#39;m slightly bewichted.&quot;</span>,
                     <span class="st">&quot;With great power comes great responsibilty.&quot;</span>, <span class="st">&quot;That&#39;s a lot of die rolls&quot;</span>,
                     <span class="st">&quot;6 is my lucky number!&quot;</span>, <span class="st">&quot;Charming!&quot;</span>, <span class="st">&quot;I&#39;m under your spell!&quot;</span>)
  
  <span class="cf">if</span> (error <span class="op">==</span><span class="st"> </span><span class="ot">FALSE</span>) {
  <span class="kw">print</span>(<span class="kw">sample</span>(magic_message, <span class="dv">1</span>))
  }
  
  <span class="kw">invisible</span>(dd)
}</code></pre></div>
</div>
<div id="examples" class="section level2">
<h2><span class="header-section-number">5.2</span> Examples</h2>
<p>200 rolls with an ordinary, six-sided die. Enchantment: default - after rolling a 1 or 2.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dd &lt;-<span class="st"> </span><span class="kw">enchant.die</span>(<span class="dv">200</span>)</code></pre></div>
<pre><code>## [1] &quot;With great power comes great responsibilty.&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(dd)</code></pre></div>
<pre><code>##   rolls magic_before
## 1     4            0
## 2     6            0
## 3     2            0
## 4     6            1
## 5     5            0
## 6     3            0</code></pre>
<p><br />
<strong>To be included:</strong> Explain function. (And maybe improve it.)</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-analysis.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": 3,
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": false
});
});
</script>

</body>

</html>
